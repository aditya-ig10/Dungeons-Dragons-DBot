Create a Discord bot using Python and host it on Replit to run 24/7. The bot should support Dungeons & Dragons gameplay and server moderation with the following features:

Music Playback:

Implement a /play <YouTube URL> command to play audio from a YouTube link in the user’s voice channel.
Include a /stop command to stop music playback and disconnect the bot from the voice channel.
Use libraries like pytube for YouTube audio streaming and ffmpeg-python for playback.


Dice Rolling:

Create a /roll <dice> command to handle D&D-style dice rolls (e.g., 2d6+3).
Parse input to support multiple dice, die types, and modifiers (e.g., NdM+X).
Display individual roll results and the total.


Initiative Tracking:

Add a /initiative <name> <roll> command to track combat order by adding characters and their initiative rolls, sorting them in descending order.
Include a /clearinitiative command to reset the initiative tracker.


Character Management:

Implement a /addchar <name> <hp> command to store character names and HP.
Add a /checkchar <name> command to display character details.


Moderation Features:

Send an automatic welcome message with an embed to new members in the server’s system channel, including a brief introduction and command guide.
Create a /ban <user> [reason] command to ban users (requires ban permissions).
Implement a /mute <user> <minutes> [reason] command to mute users for a specified duration by assigning a “Muted” role that restricts sending messages and speaking.
Add an /unmute <user> command to remove the “Muted” role.
Ensure the bot checks for appropriate permissions before executing moderation commands.


Help Command:

Provide a /help command that lists all available commands with descriptions in an embed.


Permanent Hosting on Replit:

Use a Flask web server to keep the bot running 24/7 by responding to HTTP requests on Replit’s default port (8080).
Store the Discord bot token securely in a .env file.
Set up an external service like UptimeRobot to ping the Replit URL every 5 minutes to prevent the free tier from spinning down.